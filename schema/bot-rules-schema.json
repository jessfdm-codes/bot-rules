{
  "$schema": "http://json-schema.org/schema",
  "$id": "https://github.com/thomasfdm/bot-rules/blob/feature-schema/schema/bot-rules-schema.json",
  "title": "bot-rules JSON Schema",
  "description": "A file that can be placed on Reddit subreddits to supply voluntary rules to bots operating on them. This schema is maintained at https://github.com/thomasfdm/bot-rules",
  "type": "object",
  "properties": {
    "bot-rules-version": {"type": "string"},
    "subreddit": {"type": ["string"]},
    "contact-moderators": {
      "type": ["array"],
      "items": {
        "type": ["string"]
      }
    },

    "bots": {
      "type": "object",
      "properties": {
        "read": {
          "type": "object",
          "properties": {
            "allow": {
              "type": "boolean"
            }
          }
        },
        "write": {
          "type": "object",
          "properties": {
            "comments": {
              "type": "object",
              "properties": {
                "allow": {"type": "boolean"},
                "rate-limiting": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "amount": {
                        "type": "integer",
                        "minimum": 1
                      },
                      "period": {
                        "enum": ["minute", "hour", "day", "month", "year"]
                      }
                    }
                  }
                }
              }
            },
            "submissions": {
              "type": "object",
              "properties": {
                "allow": {"type": "boolean"},
                "rate-limiting": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "amount": {
                        "type": "integer",
                        "minimum": 1
                      },
                      "period": {
                        "enum": ["minute", "hour", "day", "month", "year"]
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  }
}